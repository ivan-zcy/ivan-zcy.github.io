<!DOCTYPE html>
<html>

<head>
  
  <title>操作系统杂谈-1 - Zcy</title>
  <meta charset="UTF-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png" />
  <meta name="keywords" content="操作系统">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统杂谈-1">
<meta property="og:url" content="http://www.ivan-zcy.top/2019/05/07/操作系统杂谈/index.html">
<meta property="og:site_name" content="Zcy">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://www.ivan-zcy.top/2019/05/07/操作系统杂谈/itle3.jpg">
<meta property="og:updated_time" content="2019-05-07T09:17:11.383Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="操作系统杂谈-1">
<meta name="twitter:image" content="http://www.ivan-zcy.top/2019/05/07/操作系统杂谈/itle3.jpg">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/atom-one-dark.css">
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1574134732018">
</head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://i.loli.net/2019/01/13/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="Zcy" class="mdui-btn mdui-btn-icon"><img src="/images/avatar.png"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Zcy">
            <img src="/images/avatar.png" alt="Zcy">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>Articles</span>298</div>
        <div><span>Tags</span>92</div>
        <div><span>Categories</span>0</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Social</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/20238211" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/nexmoe/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
  
  

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Tagcloud</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/数据结构-链表/" style="font-size: 10px;">-数据结构 -链表</a> <a href="/tags/01分数规划/" style="font-size: 10px;">01分数规划</a> <a href="/tags/ACM/" style="font-size: 20px;">ACM</a> <a href="/tags/BFS/" style="font-size: 10.56px;">BFS</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/C核心技术总结/" style="font-size: 12.22px;">C核心技术总结</a> <a href="/tags/C语言/" style="font-size: 18.89px;">C语言</a> <a href="/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/tags/Debug/" style="font-size: 10px;">Debug</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Git/" style="font-size: 11.11px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Hash/" style="font-size: 10px;">Hash</a> <a href="/tags/JavaWeb/" style="font-size: 11.11px;">JavaWeb</a> <a href="/tags/Linux/" style="font-size: 17.22px;">Linux</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/Vim/" style="font-size: 10.56px;">Vim</a> <a href="/tags/brew/" style="font-size: 10px;">brew</a> <a href="/tags/hexo/" style="font-size: 12.22px;">hexo</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/turtle/" style="font-size: 10px;">turtle</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/二分/" style="font-size: 11.11px;">二分</a> <a href="/tags/二叉树/" style="font-size: 15.56px;">二叉树</a> <a href="/tags/传递闭包/" style="font-size: 10px;">传递闭包</a> <a href="/tags/内存模型/" style="font-size: 11.11px;">内存模型</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/分组背包/" style="font-size: 10px;">分组背包</a> <a href="/tags/动态规划/" style="font-size: 19.44px;">动态规划</a> <a href="/tags/动态规划进阶/" style="font-size: 13.89px;">动态规划进阶</a> <a href="/tags/区间dp/" style="font-size: 10px;">区间dp</a> <a href="/tags/博弈/" style="font-size: 10px;">博弈</a> <a href="/tags/反思/" style="font-size: 10px;">反思</a> <a href="/tags/后缀表达式/" style="font-size: 10px;">后缀表达式</a> <a href="/tags/图论/" style="font-size: 11.11px;">图论</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/多路dp/" style="font-size: 10px;">多路dp</a> <a href="/tags/多进程/" style="font-size: 12.22px;">多进程</a> <a href="/tags/大数/" style="font-size: 10px;">大数</a> <a href="/tags/大模拟/" style="font-size: 10px;">大模拟</a> <a href="/tags/字典树/" style="font-size: 10px;">字典树</a> <a href="/tags/存储/" style="font-size: 11.11px;">存储</a> <a href="/tags/尺取/" style="font-size: 10px;">尺取</a> <a href="/tags/库/" style="font-size: 10px;">库</a> <a href="/tags/思维/" style="font-size: 16.11px;">思维</a> <a href="/tags/总结/" style="font-size: 11.11px;">总结</a> <a href="/tags/抽屉原理/" style="font-size: 10px;">抽屉原理</a> <a href="/tags/拓扑排序/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/探究/" style="font-size: 10px;">探究</a> <a href="/tags/操作系统/" style="font-size: 16.11px;">操作系统</a> <a href="/tags/收藏/" style="font-size: 12.78px;">收藏</a> <a href="/tags/数据库/" style="font-size: 11.11px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 17.78px;">数据结构</a> <a href="/tags/数论/" style="font-size: 18.33px;">数论</a> <a href="/tags/数论原理/" style="font-size: 16.67px;">数论原理</a> <a href="/tags/整理/" style="font-size: 10px;">整理</a> <a href="/tags/斜率优化/" style="font-size: 11.67px;">斜率优化</a> <a href="/tags/最近公共祖先/" style="font-size: 10px;">最近公共祖先</a> <a href="/tags/杂谈/" style="font-size: 11.11px;">杂谈</a> <a href="/tags/栈/" style="font-size: 10.56px;">栈</a> <a href="/tags/栈和队列/" style="font-size: 10.56px;">栈和队列</a> <a href="/tags/树形dp/" style="font-size: 12.22px;">树形dp</a> <a href="/tags/概率dp/" style="font-size: 10px;">概率dp</a> <a href="/tags/模拟/" style="font-size: 12.78px;">模拟</a> <a href="/tags/模版/" style="font-size: 11.11px;">模版</a> <a href="/tags/欧拉函数/" style="font-size: 10px;">欧拉函数</a> <a href="/tags/水题/" style="font-size: 14.44px;">水题</a> <a href="/tags/特殊背包问题/" style="font-size: 10px;">特殊背包问题</a> <a href="/tags/状压DP/" style="font-size: 10px;">状压DP</a> <a href="/tags/科学上网/" style="font-size: 10px;">科学上网</a> <a href="/tags/算法之美/" style="font-size: 11.11px;">算法之美</a> <a href="/tags/线段树/" style="font-size: 10px;">线段树</a> <a href="/tags/线程池/" style="font-size: 10px;">线程池</a> <a href="/tags/组合数/" style="font-size: 10px;">组合数</a> <a href="/tags/结构数据/" style="font-size: 10px;">结构数据</a> <a href="/tags/网络编程/" style="font-size: 10.56px;">网络编程</a> <a href="/tags/背包第k优/" style="font-size: 10px;">背包第k优</a> <a href="/tags/背包问题/" style="font-size: 10px;">背包问题</a> <a href="/tags/规律/" style="font-size: 10px;">规律</a> <a href="/tags/记忆化搜索/" style="font-size: 10px;">记忆化搜索</a> <a href="/tags/软件体系结构/" style="font-size: 10.56px;">软件体系结构</a> <a href="/tags/软件质量保证/" style="font-size: 10px;">软件质量保证</a> <a href="/tags/进程间同步/" style="font-size: 10px;">进程间同步</a> <a href="/tags/进程间通信/" style="font-size: 10px;">进程间通信</a> <a href="/tags/逆波兰表达式/" style="font-size: 10px;">逆波兰表达式</a> <a href="/tags/链表/" style="font-size: 13.33px;">链表</a> <a href="/tags/队列/" style="font-size: 10px;">队列</a> <a href="/tags/随机数/" style="font-size: 10px;">随机数</a> <a href="/tags/随笔/" style="font-size: 16.67px;">随笔</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Archive</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li></ul>
    </div>
  </div>


  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2019 Zcy
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
    <div class="nexmoe-post-cover"> 
        
            <img src="https://i.loli.net/2019/01/13/5c3aec85a4343.jpg">
        
        <h1>操作系统杂谈-1</h1>
    </div>
  <div class="nexmoe-post-meta">
    <a><i class="nexmoefont icon-calendar-fill"></i>2019年05月07日</a>
    <a><i class="nexmoefont icon-areachart"></i>3.6k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 14 分钟</a>
    
    
      <a class="nexmoefont icon-tag-fill -link" href="/tags/操作系统/">操作系统</a>
    
  </div>
  <article>
    <p><img src="/2019/05/07/操作系统杂谈/itle3.jpg" alt="itle3"></p>
<a id="more"></a>
<p>[TOC]</p>
<h3 id="操作系统作为系统资源的管理者："><a href="#操作系统作为系统资源的管理者：" class="headerlink" title="操作系统作为系统资源的管理者："></a>操作系统作为系统资源的管理者：</h3><p>比如打开QQ视频聊天：</p>
<p>​    1.找QQ文件的时候，逐层打开文件夹，涉及到文件管理</p>
<p>​    2.打开QQ，系统会为其分配内存，涉及到内存管理</p>
<p>​    3.QQ开始运行，相应的进程被CPU处理，涉及到处理器管理</p>
<p>​    4.开始视频聊天，需要将摄像头资源分配给QQ进程，涉及到设备管理</p>
<h3 id="操作系统为上层提供服务："><a href="#操作系统为上层提供服务：" class="headerlink" title="操作系统为上层提供服务："></a>操作系统为上层提供服务：</h3><p>1.命令接口允许用户直接使用（命令分批处理或者交互式）</p>
<p>2.程序接口允许用户通过程序间接使用（系统调用）</p>
<p>3.图形用户接口GUI（比如通过拖拽到垃圾桶删除）</p>
<h3 id="操作系统为下层实现的功能："><a href="#操作系统为下层实现的功能：" class="headerlink" title="操作系统为下层实现的功能："></a>操作系统为下层实现的功能：</h3><p>​    实现对硬件机器的扩展，比如1.基于磁盘信息的抽象，管理磁盘数据2.防止程序直接与物理资源接触3.将物理资源抽象为进程，方便了多个程序在系统中同时运行</p>
<h3 id="操作系统的四个特征：并发、共享、虚拟、异步。"><a href="#操作系统的四个特征：并发、共享、虚拟、异步。" class="headerlink" title="操作系统的四个特征：并发、共享、虚拟、异步。"></a>操作系统的四个特征：并发、共享、虚拟、异步。</h3><ol>
<li>并发：操作系统会负责协调多个程序交替运行，需要引入中断技术才能实现并发执行</li>
<li>共享：是指系统的资源可以供内存中多个并发执行的进程共同使用，分为互斥共享（摄像头）和同时共享（访问资源）</li>
<li>虚拟：把一个物理上的实体（实际存在的）变为若干逻辑上的对应物（用户感受到的）。分为时分复用（虚拟处理器）和空分复用（虚拟存储器）</li>
<li>异步：多个进程并发执行，由于资源有限，进程是以不可预知的速度交替执行的。</li>
</ol>
<h3 id="指令和代码的区别："><a href="#指令和代码的区别：" class="headerlink" title="指令和代码的区别："></a>指令和代码的区别：</h3><p>指令是CPU能识别、执行的最基本命令，代码通过翻译可生成机器语言指令。由于指令权限很高，因此分为特权指令和非特权指令（用户态只能执行非特权指令，内核态可以执行非特权指令，CPU中有程序状态寄存器来识别，0用户态1内核态），因此程序叶分为内核程序和用户程序（内核程序在内核空间，应用程序运行在用户空间）</p>
<h3 id="内核的核心："><a href="#内核的核心：" class="headerlink" title="内核的核心："></a>内核的核心：</h3><p>时钟管理（计时用于进程切换等）、中断处理、原语（最接近硬件的部分，具有原子性。有设备驱动、CPU切换等）、进程管理、存储器管理、设备管理等 </p>
<h3 id="大内核和微内核"><a href="#大内核和微内核" class="headerlink" title="大内核和微内核"></a>大内核和微内核</h3><p>（其中后三个在有些操作系统中不将其定义为内核的核心，它属于对系统资源的管理功能，这就是大内核和微内核之分，大内核代码庞大，性能快；微内核结构清晰方便维护，但需要在内核态和用户态频繁切换）</p>
<h3 id="中断："><a href="#中断：" class="headerlink" title="中断："></a>中断：</h3><p>只要发生中断，就意味着需要操作系统介入（也就是从用户态到内核态）流程：比如CPU收到计时器部件发出的中断信号/或发出系统调用/或内中断信号等，然后切换为核心态对中断进行处理（因为特权指令只有内核态有权限）</p>
<ol>
<li><p>用户态-&gt;内核态：通过中断实现；内核态-&gt;用户态：通过执行一个特权指令，将CPU中程序状态寄存器的标识位改为用户态</p>
</li>
<li><p>外中断的处理过程：CPU执行一个进程的多个指令，每执行完一个指令CPU都会检查是否有外部中断信号，若不存在继续执行，若存在保护进程的状态进行保存（通过状态寄存器、指令计数器等等），然后CPU根据中断信号的类型转入相应的中断处理程序（中断处理程序位于内核态</p>
</li>
</ol>
<h3 id="进程控制块："><a href="#进程控制块：" class="headerlink" title="进程控制块："></a>进程控制块：</h3><p>每个进程被创建时，系统会为其配置一个数据结构，称之为进程控制块（PCB），用于描述进程的各个信息（包括对内存地址的映射、进程切换时信息的存储（也就是各种寄存器值）、进程号和所属用户、状态（就绪、运行、阻塞）、优先级等），PCB是进程存在的唯一标示，位于内核态。创建进程实质是创建PCB，撤销进程实质是撤销PCB</p>
<h3 id="进程的组织"><a href="#进程的组织" class="headerlink" title="进程的组织"></a>进程的组织</h3><p>（也就是系统中对多个进程之间的组织）：分为链接方式（按进程状态分为多个队列，系统有指向各个队列的指针）和索引方式（按照进程状态的不同建立几张索引表，系统有指向各个索引表的指针）</p>
<h3 id="进程控制："><a href="#进程控制：" class="headerlink" title="进程控制："></a>进程控制：</h3><p>主要时实现进程状态的转换，通过原语实现。原语的特点是执行期间不可中断，运行前有关中断指令，结束后有开中断指令。在此期间外部中断信号是被忽略的。原语的功能：更新PCB的信息，将PCB插入合适的队列，分配回收资源</p>
<h3 id="进程间通信："><a href="#进程间通信：" class="headerlink" title="进程间通信："></a>进程间通信：</h3><p>由于进程拥有的内存地址相互独立，因此一个进程不能直接访问另一个进程的地址空间。因此操作系统为保证安全性会提供一些方法让其进行通信。</p>
<h3 id="通信之共享内存："><a href="#通信之共享内存：" class="headerlink" title="通信之共享内存："></a>通信之共享内存：</h3><p>两个进程对共享内存的访问必须互斥，操作系统负责提供共享空间和P、V操作</p>
<h3 id="通信之管道："><a href="#通信之管道：" class="headerlink" title="通信之管道："></a>通信之管道：</h3><p>用于连接读写进程的一个共享文件（实质就是在内存中开辟一个固定大小的缓冲区，它是一个半双工通信，同一时间段只能单向）。广义上讲同步，两端必须各有一个进程，狭义上互斥，因为一端进程写的时候另一个端不能读。数据以字符流的形式写入管道，当管道写满，write()会被阻塞，然后等待读进程取走管道变空，然后读进程阻塞。循环这个过程</p>
<h3 id="线程控制块和线程切换："><a href="#线程控制块和线程切换：" class="headerlink" title="线程控制块和线程切换："></a>线程控制块和线程切换：</h3><p>也有线程控制块也有状态（就绪、阻塞、运行）。线程切换不一定进程切换，进程切换线程一定切换。</p>
<h3 id="用户级线程和内核级线程。"><a href="#用户级线程和内核级线程。" class="headerlink" title="用户级线程和内核级线程。"></a>用户级线程和内核级线程。</h3><p>用户级线程由程序通过线程库来实现的。所有线程管理工作由应用程序负责（包括线程切换），因此线程切换可以在用户态下完成，操作系统意识不到线程的存在。</p>
<p>而内核级线程的管理工作是由操作系统内核完成。因此线程调度、切换等工作都由内核负责。操作系统能看到线程的存在</p>
<p>对于同时支持用户级线程和内核级线程的操作系统，可采用两者组合方式，将n个用户级线程映射到m个内核级线程（n&gt;=m），这时即使系统是四核，也最多只能有两个用户线程并行执行。（也就是说，内核级线程才是资源分配的单位）</p>
<p>用户级线程映射到内核级线程有几个模式：1.多对一（线程并发性低，线程切换无须到内核态，线程管理开销小） 2.一对一（线程并发性高，线程切换需要到内核态（因为涉及到内核级线程的切换），线程管理开销大） 3.多对多（集二者的优缺点）</p>
<h3 id="高级调度（作业调度）："><a href="#高级调度（作业调度）：" class="headerlink" title="高级调度（作业调度）："></a>高级调度（作业调度）：</h3><p>属于内存与外存之间的调度，每个作业只调入一次（调入时创建PCB），调出一次（调出时撤销PCB）。按一定原则从外存上处于后备队列的作业中挑选一个或多个作业，给他们分配内存等必要资源，并建立相应的进程，使他们获得竞争处理器的权利。（大概就是无-&gt;创建态-&gt;就绪态）</p>
<h3 id="中级调度（内存调度）："><a href="#中级调度（内存调度）：" class="headerlink" title="中级调度（内存调度）："></a>中级调度（内存调度）：</h3><p>也就是内存调度（详细自己想）就是决定把哪个处于挂起状态的进程重新调入内存，一个进程可能多次调入调出。暂时调到外存等待的进程状态为挂起状态，PCB不会被调到外存，而是常驻内存，只是把PCB放到挂起队列中。（这涉及到起状态模型，多了一个就绪挂起（和就绪态双向），一个阻塞挂起（和阻塞态双向），然后阻塞挂起可以到就绪挂起）（大概就是挂起态-&gt;就绪态）</p>
<h3 id="低级调度（CPU调度）："><a href="#低级调度（CPU调度）：" class="headerlink" title="低级调度（CPU调度）："></a>低级调度（CPU调度）：</h3><p>也就是CPU调度（详细自己想）就是从就绪队列中选取一个进程变为运行态。它的发生频率最高（大概就是就绪态-&gt;运行态）</p>
<p>阻塞、就绪、运行态都在内存，而就绪挂起、阻塞挂起都在外存上</p>
<h3 id="在什么时候不能进行进程间切换："><a href="#在什么时候不能进行进程间切换：" class="headerlink" title="在什么时候不能进行进程间切换："></a>在什么时候不能进行进程间切换：</h3><p>1.处理中断的过程 2. 进程在操作系统内核程序临界区中 3.原子操作过程中</p>
<h3 id="临界资源"><a href="#临界资源" class="headerlink" title="临界资源"></a>临界资源</h3><p>是指一个时间段只允许一个进程使用的资源，临界区是执行临界资源的代码</p>
<h3 id="操作系统的性能指标"><a href="#操作系统的性能指标" class="headerlink" title="操作系统的性能指标"></a>操作系统的性能指标</h3><p>CPU利用率：指CPU忙碌时间占总时间的比</p>
<p>系统吞吐量：总共完成多少道作业/总共</p>
<p>周转时间：作业从提交系统开始到完成结束所需时间</p>
<p>带权周转时间：周转时间/所需时间</p>
<p>平均周转时间：所有作业的平均值</p>
<h3 id="CPU虚拟轮转法为什么优先I-O繁忙型进程："><a href="#CPU虚拟轮转法为什么优先I-O繁忙型进程：" class="headerlink" title="CPU虚拟轮转法为什么优先I/O繁忙型进程："></a>CPU虚拟轮转法为什么优先I/O繁忙型进程：</h3><p>因为I/O设备可以和CPU并行工作，如果优先I/O繁忙型进程，更有可能让I/O设备尽早工作，资源利用率得到提高</p>
<h3 id="管程："><a href="#管程：" class="headerlink" title="管程："></a>管程：</h3><p>一种高级的进程互斥、同步机制。管程是一种特殊的软件模块（类似于类），它有对应的数据结构、对数据结构进行操作的函数、初始化语句以及管程的名字。因此管程的数据只能被管程的函数所访问，一个进程只能通过调用管程的函数才能访问管程的数据，每次只允许一个进程在管程中执行某个函数。编译器负责实现各进程互斥的进入管程中的过程</p>
<h3 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h3><p>同步：这些进程因为需要在某些位置上协调它们的工作次序而产生制约关系。而异步是多个进程并发执行，由于资源有限，进程是以不可预知的速度交替执行的。</p>
<h3 id="实现进程互斥的方法："><a href="#实现进程互斥的方法：" class="headerlink" title="实现进程互斥的方法："></a>实现进程互斥的方法：</h3><p>1单标志法，2双标志先检查，3双标志后检查，4.Peterson算法</p>
<p>单标志法：用于两个进程之间，一个进程在访问完临界区后会把权限转交给另一个进程。有一个标志位，标志为几就允许几号进程访问临界区（缺点是一个进程想访问，另一个进程不访问，而标志位在另一个进程，这时无法继续）</p>
<p>双标志先检查法：设置一个布尔数组，用来标记各进程想要进入临界区的意愿。如果没有其它的进程为true，它就把自己的所在位设为true，访问完临界区再修改为false（这种访问bug特别多，因为检查过程和设置true的过程不是原子操作）</p>
<p>双标志后检查法：先上锁后检查，避免双标志先检查法的bug，但是又有新的bug（两个进程都true，结果都在等待）</p>
<p>Peterson算法：孔融让梨的思想，设置一个布尔型数组，用来标记各进程想要进入临界区的意愿，再设置一个单标志，用于优先哪个进程进入临界区。进程想要进入临界区时，会设置意愿为true，并礼让另一个 进程，把单标志设置为对方。如果对方有想进入的意愿且单标志位为对方，那么就等待，否则就进入临界区，出临界区把意愿设置为false</p>
<h3 id="进程互斥的硬件实现方法："><a href="#进程互斥的硬件实现方法：" class="headerlink" title="进程互斥的硬件实现方法："></a>进程互斥的硬件实现方法：</h3><p>中断屏蔽，TestAndSet(TS指令)，Swap指令</p>
<p>中断屏蔽：就是先关中断，然后再开中断。1.它只是用于单核处理机。因为对于多核处理器来说，关中断开中断只对它所属的处理机有效，可能其它进程在另一个处理机处理。2.开关中断权限高，只适用于内核进程</p>
<p>Ts指令：通过硬件来实现的，执行的过程不允许被中断。（原理就是利用新旧bool，循环利用Ts函数检查新的bool是否为false，为true循环检测，为false则访问资源，访问完毕将新bool设置为false。在Ts函数中，若为true，则更新旧的为true，新的也为true，返回旧的；若为false，则更新旧的为false，新的为true，返回旧的）</p>
<p>信号量机制：用户进程可以通过一对原语（wait和signal）来对信号量进行操作。信号量其实就是一个变量，可以用来表示系统中某种资源的数量。分为整型信号量和记录型信号量</p>
<p>整型信号量；wait简易来说就是一个while循环直到变量&gt;0，然后进行—操作，signal建立来说就是进行++操作</p>
<p>记录型信号量；相比整型信号量多了一个等待队列，wait就是对信号量进行- -操作，若该值小于0，就把进程从运行态转变为阻塞态。signal就是对信号量进行++操作，若信号量值小于等于0，那么就唤醒等待队列中的一个进程（也就是让进程从阻塞态变为就绪态）</p>

  </article>
  
    
<div class="nexmoe-post-copyright">
<i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
<strong>Author：</strong><br>
<strong>Link：</strong><a href="http://www.ivan-zcy.top/2019/05/07/操作系统杂谈/" title="http://www.ivan-zcy.top/2019/05/07/操作系统杂谈/" target="_blank" rel="noopener">http://www.ivan-zcy.top/2019/05/07/操作系统杂谈/</a><br>

  <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可

</div>


  
  <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '80b2453b6d5f37ad6225',
        clientSecret: '43e99fa852795c9a7b3eb924b2558c64b84bbdeb',
        id: window.location.pathname,
        repo: 'nexmoe.github.io',
        owner: 'nexmoe',
        admin: 'nexmoe'
    })
    gitalk.render('gitalk')
</script>
</section>
</div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/js/app.js?v=1574134732100"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>



  





<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"left","width":70,"height":140},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
